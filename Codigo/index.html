<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App - Organizei</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous" />
    <link rel="stylesheet" href="./style.css" />

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet" />

    <script>
        function validarAcesso() {
            localStorage.setItem('key', 'key11MS9MKtKRPWWJ'); //chave de autoriza��o para consumo de webserver airtable.
            // Storage.removeItem('lastname');           // apagar a entrada "lastname"
            // Storage.clear();                          // apagar tudo o que est� no local storage
        }

        function logout() {
            Storage.clear();
        }

        /*******
        *Fun��o para efetuar o login no sistema.
        *Esta fun��o faz uma requisi��o ao servidor airtable
        *e solicita um servi�o de utilizando o email e senha.
        **@params
        *@senha caracter alfanum�ricos.
        *@email caracteres que s�o permitidos na confec��o de um email.
        **********************/
        function validarUsuario(usuario, senha) {
            //	var local=document.getElementById("demo");
            //  local.innerHTML="Aguardando resposta";
            //desativa o botao para evitar multiplas requisi��es.
            document.getElementById("btnlogin").disabled = true;
            var obj = new XMLHttpRequest();
            obj.open("GET", "https://api.airtable.com/v0/appywNsqVd3gL7McU/Usuario?filterByFormula=AND(email%3D'" + usuario + "'%2Csenha%3D'" + senha + "')", true);

            obj.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('key'));
            obj.onreadystatechange = function () {
                if (obj.readyState === 4 && obj.status === 200) {

                    //converte a resposta em json object
                    var jsonObj = JSON.parse(this.responseText);
                    var usuario = jsonObj.records;
                    var htmls;
                    if (usuario.length > 0) {   //salva informa��es na localstoge
                        localStorage.setItem('userName', usuario[0].fields.nome); // gravar
                        localStorage.setItem('userEmail', usuario[0].fields.email); // gravar
                        localStorage.setItem('userCPF', usuario[0].fields.cpf); // gravar
                        localStorage.setItem('userKey', usuario[0].id);
                        htmls = 'login efetuado com sucesso!';
                        alert(htmls);
                        //redicionamento do usu�rio para dashboard
                        window.location.href = "app.html";
                    } else {
                        alert('Falha ao tentar efetuar o login, confirme o email e senha!');
                        //	local.innerHTML=htmls;
                    }
                } else {
                    //	local.innerHTML=obj.status;
                }
                //habilita o botao novamento
                document.getElementById("btnlogin").disabled = false;
            };
            obj.send();


        }
    </script>
</head>

<BODY onload=" validarAcesso();">
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid d-flex align-content-between">
                <div class="logo">
                    <a class="navbar-brand ms-0" href="index.html"><img src="imagens/organizei.png" alt=""></a>
                </div>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="#">Início</a>
                        </li>
                        <li class="nav-item">
                            <a class=" fale-conosco nav-link" href="#">Fale conosco</a>
                        </li>
                        <li class="nav-item d-md-none d-lg-none">
                            <a class="nav-link cadastro" href="./cadastro.html">Cadastre-se</a>
                        </li>
                        <!--      trecho de c�digo gerando conflito pois est� dubplicado.
                        <li class="nav-item d-lg-none">
                            <a class="nav-link cadastro" href="#" >Faça login</a>
                        </li>

                        <li>
                            <div class="card-login1 d-flex justify-content-center d-flex d-lg-none">
                                <form class="d-flex flex-column" action="#" method='post'>
                                    <input type="text" id="email" name="email" placeholder="E-mail" />
                                    <input type="password" id="senha" name="senha" placeholder="Senha" />
                                    <button id='btilogin' type='button' onclick="alert('ok'); " >login</button>
                                </form>
                                <div class="esqueci-senha1 d-flex">
                                    <a href="./alterar-senha.html">Esqueci a senha</a>
                                </div>
                            </div>
                        </li>
                        !-->
                    </ul>
                </div>
                <div class="card-login d-none d-sm-none d-md-none d-lg-flex flex-column">
                    <div>
                        <form class="d-flex flex-row" action="#">
                            <input type="text" id="email" name="email" placeholder="E-mail">
                            <input type="password" id="senha" name="senha" placeholder="Senha">
                            <input type="button" id='btnlogin' value="Login"
                                onclick="validarUsuario(document.getElementById('email').value, document.getElementById('senha').value);" />
                        </form>
                    </div>
                    <div class="esqueci-senha d-flex justify-content-center align-items-center">
                        <a href="./alterar-senha.html">Esqueci a senha</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>

        <section id="carrosel">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-indicators ">
                                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                                    class="active" aria-current="true" aria-label="Slide 1"></button>
                                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                                    aria-label="Slide 2"></button>
                                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                                    aria-label="Slide 3"></button>
                            </div>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <div class="row">
                                        <div
                                            class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center align-items-center order-0 order-sm-0 order-md-1 order-lg-1">
                                            <img src="https://source.unsplash.com/random/300x200" alt="foto 1">
                                        </div>
                                        <div
                                            class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center align-items-center order-1 order-sm-1 order-md-0 order-lg-0">
                                            <div>
                                                <h1 class="mt-2">
                                                    Título
                                                </h1>
                                                <p class="texto">Lorem ipsum dolor sit, amet consectetur
                                                    adipisicing
                                                    elit.
                                                    Voluptatibus mollitia harum quas, unde ut eius rerum iure expedita
                                                    praesentium perferendis illum adipisci natus libero labore, ipsum
                                                    perspiciatis, beatae corrupti earum ab est eligendi totam iusto
                                                    culpa. Quam, aspernatur assumenda est, tenetur ab velit, numquam
                                                    quia dolor eligendi officiis adipisci autem?</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <div class="row">
                                        <div
                                            class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center align-items-center order-0">
                                            <img src="https://source.unsplash.com/random/300x200" alt="foto 2">
                                        </div>
                                        <div
                                            class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center align-items-center order-1">
                                            <div>
                                                <h1 class="mt-2">
                                                    Título
                                                </h1>
                                                <p class="texto">Lorem ipsum dolor sit, amet consectetur adipisicing
                                                    elit. Laborum
                                                    consectetur earum qui maxime aspernatur quibusdam, veniam, dolorum
                                                    laboriosam dignissimos esse nesciunt tempore nihil facere unde
                                                    soluta porro facilis odio debitis sed. Quaerat illum quam quis,
                                                    porro beatae pariatur modi earum quasi a praesentium quo natus eaque
                                                    laborum, totam veniam? Nemo.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <div class="row">
                                        <div
                                            class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center align-items-center order-0 order-sm-0 order-md-1 order-lg-1">
                                            <img src="https://source.unsplash.com/random/300x200" alt="foto 2">
                                        </div>
                                        <div
                                            class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center align-items-center order-1 order-sm-1 ordem-md-0 order-lg-0">
                                            <div>
                                                <h1 class="mt-2">
                                                    Título
                                                </h1>
                                                <p class="texto">Lorem ipsum dolor, sit amet consectetur adipisicing
                                                    elit. Molestiae
                                                    ea quas voluptatibus doloribus reiciendis tenetur laudantium vitae
                                                    impedit expedita! Debitis laboriosam ad nisi suscipit sunt, ducimus
                                                    voluptatem accusantium aliquam rem numquam eligendi cumque deserunt,
                                                    impedit corporis aut animi quod necessitatibus nam architecto in
                                                    obcaecati et? Porro nostrum id laboriosam beatae?</p>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="carousel-control-prev" type="button"
                                data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button"
                                data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </section>

        <section id="cadastro-section" class="d-none d-md-flex d-lg-flex">
            <div class="container">
                <div class="row">
                    <div class="col-12 d-flex justify-content-center">
                        <div class="card-cadastro">
                            <p>Cadastre-se</p>
                            <form action="#">
                                <div class="formulario-cadastro">
                                    <input type="text" id="nomeca" name="nomes" placeholder="Nome completo">
                                    <input type="text" id="cpfca" name="cpf" placeholder="CPF">
                                    <input type="text" id="e-mailca" name="emails" placeholder="E-mail">
                                    <input type="text" id="e-mailca" name="email" placeholder="Confirmar E-mail"
                                        autocomplete="none">
                                    <input type="password" id="senhaca" name="senhas" placeholder="Senha">
                                    <input type="password" id="ssenha" name="senha" placeholder="Confirmar Senha">
                                </div>
                                <div class="d-flex justify-content-center">
                                    <input type="submit" value="Cadastrar" class="botao">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="organizei">
            <div class="container">
                <div class="row d-flex d-md-none d-lg-none justify-content-center">
                    <div class="botao-cadastro d-flex justify-content-center mb-3 mt-3">
                        <a href="./cadastro.html">Cadastre-se</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center flex-column order-0">
                        <h2 class="mb-4 mt-0 mt-sm-0 mt-md-3 mt-lg-0 d-flex justify-content-center">
                            O que é a Organizei
                        </h2>
                        <p class="texto">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque quia facere voluptatibus
                            maxime illo. Atque quo id, repellendus optio incidunt voluptatibus iusto nisi voluptate
                            quibusdam sequi necessitatibus quam perspiciatis! Id quis quam impedit obcaecati vel? Nobis
                            minima aspernatur eum tenetur maxime omnis blanditiis repellendus odit cupiditate itaque,
                            eaque architecto repudiandae.
                        </p>
                    </div>
                    <div class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center order-1">
                        <img src="https://source.unsplash.com/random/500x400" alt="">
                    </div>
                </div>
            </div>
        </section>
        <section id="como-funciona">
            <div class="container">
                <div class="row">
                    <div
                        class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center flex-column order-0 order-sm-0 order-md-1 order-lg-1">
                        <h2 class="mb-4 mt-3 mt-sm-3 mt-md-3 mt-lg-0 d-flex justify-content-center">
                            Como funciona
                        </h2>
                        <p class="texto">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque quia facere voluptatibus
                            maxime illo. Atque quo id, repellendus optio incidunt voluptatibus iusto nisi voluptate
                            quibusdam sequi necessitatibus quam perspiciatis! Id quis quam impedit obcaecati vel? Nobis
                            minima aspernatur eum tenetur maxime omnis blanditiis repellendus odit cupiditate itaque,
                            eaque architecto repudiandae.
                        </p>
                    </div>
                    <div
                        class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center order-1 order-sm-1 order-md-0 order-lg-0">
                        <img src="https://source.unsplash.com/random/500x400" alt="">
                    </div>
                </div>
            </div>
        </section>
        <section id="sobre-nos">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center flex-column order-0">
                        <h2 class="mb-4 mt-3 mt-sm-3 mt-md-3 mt-lg-0 d-flex justify-content-center">
                            Sobre nós
                        </h2>
                        <p class="texto">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque quia facere voluptatibus
                            maxime illo. Atque quo id, repellendus optio incidunt voluptatibus iusto nisi voluptate
                            quibusdam sequi necessitatibus quam perspiciatis! Id quis quam impedit obcaecati vel? Nobis
                            minima aspernatur eum tenetur maxime omnis blanditiis repellendus odit cupiditate itaque,
                            eaque architecto repudiandae.
                        </p>
                    </div>
                    <div class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-center order-1">
                        <img src="https://source.unsplash.com/random/500x400" alt="">
                    </div>
                </div>
            </div>
        </section>


    </main>

    <footer id="footer">
        <div
            class="d-flex flex-column flex-md-row flex-lg-row justify-content-between me-lg-5 ms-lg-5 me-md-3 ms-md-3 me-sm-1 ms-sm-1">
            <div
                class="d-flex flex-sm-row flex-md-column flex-lg-column mb-3 mt-3 justify-content-between justify-content-sm-between">
                <div>
                    <h4 class="d-none d-sm-none d-md-flex d-lg-flex">Fale conosco</h4>
                    <p class="d-flex d-row mb-0 mb-sm-0 mb-md-2 mb-lg-2"> <span
                            class="d-none d-md-flex d-lg-flex me-1">E-mail: </span>
                        <span class="ms-3 ms-sm-3 ms-md-0 ms-lg-0">xxx@gmail.com</span>
                    </p>
                </div>
                <div class="d-flex flex-row">
                    <div class="d-flex align-items-center">
                        <h4 class="mb-0 me-2">Redes Sociais</h4>
                    </div>
                    <div class="d-flex ps-2 ps-sm-2 ps-md-0 ps-lg-0 pe-3 pe-sm-3 pe-md-0 pe-lg-0  align-items-center">
                        <i class="fab fa-instagram"></i>
                        <i class="fab fa-whatsapp ms-2"></i>
                    </div>

                </div>
            </div>
            <div class="d-flex align-items-center justify-content-center">
                <p class="mb-3 mb-sm-3 mb-md-0 mb-lg-0">
                    &copy; 2021 Todos os direitos reservados
                </p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8"
        crossorigin="anonymous"></script>
</body>

</html>